<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Techcentral - Add Admin</title>
<link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">
<link rel="icon" href="/images/main/TC.png" type="image/x-icon">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="/bootstrap/css/bootstrap.js"></script>
</head>
<style>
th, td {
  text-align: left;
}

td {
  border: none;
}
</style>
<body>
  <div th:replace="fragments/style"></div>
  <div th:replace="fragments/header"></div>
  <div class="container">
    <main>
      <p>
      <div class="h3">
        <b>Register Admin</b>
      </div>
      <form class="needs-validation" th:action="@{/admin/save}" method="post" th:object="${member}" enctype="multipart/form-data" novalidate>
        <div class="mb-3 col-5">
          <label for="member_name" class="form-label">Name: </label> 
          <input id="member_name" type="text" class="form-control" th:field="*{name}" required minlength=3 maxlength=20 />
          <div class="invalid-feedback">Please enter a valid name between 3 to 50 characters</div>
          <p class="text-danger" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></p>
        </div>

        <div class="mb-3 col-5">
          <label for="member_username" class="form-label">Username: </label>
          <input id="member_username" type="text" class="form-control" th:field="*{username}" required minlength=3 maxlength=50 />
          <div class="invalid-feedback">Please enter a valid username between 3 to 50 characters</div>
          <p class="text-danger" th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></p>
        </div>

        <div class="mb-3 col-5">
          <label for="member_password" class="form-label">Password: </label>
          <input id="member_password" type="password" class="form-control" th:field="*{password}" required minlength=5 maxlength=100 />
          <div class="invalid-feedback">Please enter a valid password between 5 to 100 characters</div>
          <p class="text-danger" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></p>
        </div>

        <div class="mb-3 col-5">
          <label for="member_email" class="form-label">Email: </label> 
          <input id="member_email" type="email" class="form-control" th:field="*{email}" required minlength=5 maxlength=50 />
          <div class="invalid-feedback">Please enter a valid email</div>
          <p class="text-danger" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></p>
        </div>
    
        <div class="mb-3 col-5">
          <label for="member_role" class="form-label">Role: </label> 
          <select id="member_role" class="form-control" th:field="*{role}" required>
            <option value="ROLE_ADMIN">ADMIN</option>
          </select>
          <div class="invalid-feedback">Please enter a valid role.</div>
        </div>

        <div class="mt-3">
          <button type="submit" class="btn btn-primary">Register</button>
        </div>
      </form>
    </main>
  </div>
  <div th:replace="fragments/footer"></div>
</body>
<script>
  'use strict'
  var form = document.querySelector('.needs-validation')
  form.addEventListener('submit', function(event) {
    if (!form.checkValidity()) {
      event.preventDefault()
      event.stopPropagation()
    }
    form.classList.add('was-validated')
  })
</script>
</html>